"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3205],{3205:(M,u,g)=>{g.r(u),g.d(u,{FightPageModule:()=>E});var a=g(177),c=g(4341),s=g(4488),d=g(70),t=g(4438),h=g(7291),F=g(9721);const _=e=>({"background-color":e});function I(e,l){1&e&&t.nrm(0,"ion-icon",16)}function m(e,l){if(1&e){const i=t.RV6();t.j41(0,"tr",8)(1,"td")(2,"div",9),t.DNE(3,I,1,0,"ion-icon",10),t.j41(4,"ion-input",11),t.mxI("ngModelChange",function(n){const r=t.eBV(i).$implicit;return t.DH7(r.DESIGNATION,n)||(r.DESIGNATION=n),t.Njj(n)}),t.k0s()()(),t.j41(5,"td")(6,"ion-input",12),t.mxI("ngModelChange",function(n){const r=t.eBV(i).$implicit;return t.DH7(r.INITIATIVE,n)||(r.INITIATIVE=n),t.Njj(n)}),t.k0s()(),t.j41(7,"td")(8,"ion-input",13),t.mxI("ngModelChange",function(n){const r=t.eBV(i).$implicit;return t.DH7(r.CURR_HP,n)||(r.CURR_HP=n),t.Njj(n)}),t.k0s()(),t.j41(9,"td")(10,"ion-input",13),t.mxI("ngModelChange",function(n){const r=t.eBV(i).$implicit;return t.DH7(r.MAX_HP,n)||(r.MAX_HP=n),t.Njj(n)}),t.k0s()(),t.j41(11,"td")(12,"ion-input",13),t.mxI("ngModelChange",function(n){const r=t.eBV(i).$implicit;return t.DH7(r.AC,n)||(r.AC=n),t.Njj(n)}),t.k0s()(),t.j41(13,"td")(14,"ion-button",14),t.bIt("click",function(){const n=t.eBV(i).index,r=t.XpG();return t.Njj(r.onDefeated(n))}),t.nrm(15,"ion-icon",15),t.k0s()()()}if(2&e){const i=l.$implicit,o=l.index,n=t.XpG();t.Y8G("ngStyle",t.eq3(13,_,n.checkTurn(o))),t.R7$(3),t.Y8G("ngIf",i.PLAYER),t.R7$(),t.Y8G("disabled",i.IS_DEFEATED),t.R50("ngModel",i.DESIGNATION),t.R7$(2),t.Y8G("disabled",i.IS_DEFEATED),t.R50("ngModel",i.INITIATIVE),t.R7$(2),t.Y8G("disabled",i.IS_DEFEATED),t.R50("ngModel",i.CURR_HP),t.R7$(2),t.Y8G("disabled",i.IS_DEFEATED),t.R50("ngModel",i.MAX_HP),t.R7$(2),t.Y8G("disabled",i.IS_DEFEATED),t.R50("ngModel",i.AC),t.R7$(2),t.Y8G("disabled",i.IS_DEFEATED)}}const p=[{path:"",component:(()=>{var e;class l{constructor(o,n){this.storageService=o,this.entityService=n,this.entitiesInFight=[],this.turn=0}ngOnInit(){this.entitiesInFight=[...this.entityService.currFightEntities],this.entitiesInFight.sort((o,n)=>n.INITIATIVE-o.INITIATIVE)}onDefeated(o){this.entitiesInFight[o].IS_DEFEATED=!0}nextRound(){this.turn===this.entitiesInFight.length-1?this.turn=0:(this.turn++,this.entitiesInFight[this.turn].IS_DEFEATED&&this.nextRound())}checkTurn(o){return o==this.turn?"green":"white"}}return(e=l).\u0275fac=function(o){return new(o||e)(t.rXU(h.n),t.rXU(F.T))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-fight"]],decls:25,vars:3,consts:[[3,"translucent"],[3,"fullscreen"],[1,"d-flex","col-8","offset-2","justify-content-center","flex-column"],[1,"mt-5","table","table-hover"],[3,"ngStyle",4,"ngFor","ngForOf"],[1,"d-flex","flex-fill","align-content-stretch","mb-5"],["color","primary","mode","ios",1,"col-12",3,"click"],["name","chevron-forward-outline","slot","end","color","primary"],[3,"ngStyle"],[1,"d-flex","align-items-center"],["name","person","color","success",4,"ngIf"],["type","text","placeholder","Name",1,"pt-1",3,"ngModelChange","disabled","ngModel"],["type","text","placeholder","Name",3,"ngModelChange","disabled","ngModel"],["type","number",3,"ngModelChange","disabled","ngModel"],["color","danger",3,"click","disabled"],["name","skull-outline","color","light"],["name","person","color","success"]],template:function(o,n){1&o&&(t.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t.EFF(3,"Encounter"),t.k0s()()(),t.j41(4,"ion-content",1)(5,"div",2)(6,"table",3)(7,"tr")(8,"th"),t.EFF(9,"Name/Designation"),t.k0s(),t.j41(10,"th"),t.EFF(11,"Initiative"),t.k0s(),t.j41(12,"th"),t.EFF(13,"Curr. HP"),t.k0s(),t.j41(14,"th"),t.EFF(15,"Max HP"),t.k0s(),t.j41(16,"th"),t.EFF(17,"AC"),t.k0s(),t.nrm(18,"th")(19,"th"),t.k0s(),t.DNE(20,m,16,15,"tr",4),t.k0s(),t.j41(21,"div",5)(22,"ion-button",6),t.bIt("click",function(){return n.nextRound()}),t.nrm(23,"ion-icon",7),t.EFF(24," Next "),t.k0s()()()()),2&o&&(t.Y8G("translucent",!0),t.R7$(4),t.Y8G("fullscreen",!0),t.R7$(16),t.Y8G("ngForOf",n.entitiesInFight))},dependencies:[a.Sq,a.bT,a.B3,c.BC,c.vS,s.Jm,s.W9,s.eU,s.iq,s.$w,s.BC,s.ai,s.su,s.Gw]}),l})()}];let f=(()=>{var e;class l{}return(e=l).\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[d.iI.forChild(p),d.iI]}),l})(),E=(()=>{var e;class l{}return(e=l).\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[a.MD,c.YN,s.bv,f]}),l})()}}]);